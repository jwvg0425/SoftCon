
같은 숫자는 한 번만 나타나기 때문에, 숫자별로 처음 수열에서 해당 숫자가 몇 번째 위치에 나타났었는지 매핑을 해두면 O(n)으로 해결 가능하다. 주어진 연산에서 미는 걸로는 숫자의 순서 관계가 변하지 않고, 뒤집는 경우 전체 순서가 거꾸로 변하게 되기 때문에 결국 숫자 순서는 처음 순서랑 같거나 뒤집히거나 둘 중 하나이다.

따라서, 결과 수열에서 첫 번째 숫자가 처음 수열에서 몇 번째 숫자였는지 보고, 그 숫자만큼 밀었을 때(혹은 밀고 뒤집었을 때) 원래 수열과 같은 수열이 나오는지 확인해보면 된다.